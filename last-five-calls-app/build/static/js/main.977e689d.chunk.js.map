{"version":3,"sources":["App.js","index.js"],"names":["useStyles","makeStyles","table","minWidth","maxWidth","marginLeft","marginRight","list","listStyle","paddingLeft","App","useState","last5calls","setLast5Calls","useEffect","getLast5Calls","a","axios","get","resp","console","log","data","Items","error","classes","className","Table","aria-label","TableHead","TableRow","TableCell","TableBody","map","callerRow","PHONE_NUMBER","VANITY_OPTIONS","opt","i","Date","TIMESTAMP","toLocaleString","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gVAYMA,EAAYC,YAAW,CAC3BC,MAAO,CACLC,SAAU,IACVC,SAAU,IACVC,WAAY,OACZC,YAAa,QAEfC,KAAM,CACJC,UAAW,OACXC,YAAa,KAgEFC,MA5Df,WAAgB,IAAD,EACuBC,mBAAS,IADhC,mBACNC,EADM,KACMC,EADN,KAObC,qBAAU,WACRC,MACC,IAEH,IAAMA,EAAa,uCAAG,4BAAAC,EAAA,+EAECC,IAAMC,IARZ,+DAMK,OAEZC,EAFY,OAGlBC,QAAQC,IAAIF,EAAKG,MACjBT,EAAcM,EAAKG,KAAKC,OAJN,gDAMlBH,QAAQI,MAAR,MANkB,yDAAH,qDAUbC,EAAUzB,IAChB,OACE,sBAAK0B,UAAU,MAAf,UACE,6DACA,gDACCd,GACC,eAACe,EAAA,EAAD,CAAOD,UAAWD,EAAQvB,MAAO0B,aAAW,eAA5C,UACE,cAACC,EAAA,EAAD,UACE,eAACC,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,8BACA,cAACA,EAAA,EAAD,6BACA,cAACA,EAAA,EAAD,6BAGJ,cAACC,EAAA,EAAD,UACGpB,GAAcA,EAAWqB,KAAI,SAACC,GAAD,OAC5B,eAACJ,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,UACGG,EAAUC,eAEb,cAACJ,EAAA,EAAD,UACE,oBAAIL,UAAWD,EAAQlB,KAAvB,SACG2B,EAAUE,gBAAkBF,EAAUE,eAAeH,KAAI,SAACI,EAAKC,GAC9D,OAAQ,6BAAKD,WAInB,cAACN,EAAA,EAAD,UACG,IAAIQ,KAAKL,EAAUM,WAAWC,eAAe,aAZlD,UAAkBP,EAAUC,aAA5B,YAA4CD,EAAUM,wBCxDpEE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.977e689d.chunk.js","sourcesContent":["import './App.css';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { \n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n    maxWidth: 800,\n    marginLeft: 'auto',\n    marginRight: 'auto'\n  },\n  list: {\n    listStyle: 'none',\n    paddingLeft: 0,\n  }\n});\n\nfunction App() {\n  const [last5calls, setLast5Calls] = useState('');\n\n  // this should be an env variable in real life, hooked up to cdk deployment output value \n  // should point to an endpoint returning `last5calls.js` lambda function\n  const endpoint = 'https://3kljlyids7.execute-api.us-east-1.amazonaws.com/prod';\n\n  useEffect(() => {\n    getLast5Calls();\n  }, []);\n\n  const getLast5Calls = async () => {\n    try {\n      const resp = await axios.get(endpoint);\n      console.log(resp.data);\n      setLast5Calls(resp.data.Items)\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const classes = useStyles();\n  return (\n    <div className=\"App\">\n      <h2>Call in at: +1 866-872-4191</h2>\n      <h3>Last 5 callers</h3>\n      {last5calls && \n        <Table className={classes.table} aria-label=\"simple table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Caller's Number</TableCell>\n              <TableCell>Vanity Options</TableCell>\n              <TableCell>Timestamp</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {last5calls && last5calls.map((callerRow) => (\n              <TableRow key={`${callerRow.PHONE_NUMBER}-${callerRow.TIMESTAMP}`}>\n                <TableCell>\n                  {callerRow.PHONE_NUMBER}\n                </TableCell>\n                <TableCell>\n                  <ul className={classes.list}>\n                    {callerRow.VANITY_OPTIONS && callerRow.VANITY_OPTIONS.map((opt, i) => {                  \n                      return (<li>{opt}</li>)\n                    })}\n                  </ul>\n                </TableCell>\n                <TableCell>\n                  {new Date(callerRow.TIMESTAMP).toLocaleString(\"en-US\")}\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      }\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}